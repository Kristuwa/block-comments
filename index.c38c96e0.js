var form=document.querySelector(".callback-form"),listComments=document.querySelector(".section-cases__list"),inputDateForm=document.querySelector("#start"),textareaInput=document.querySelector(".callback-form__textarea");form.addEventListener("submit",onFormSubmit),listComments.addEventListener("click",onCloseBtn),listComments.addEventListener("click",onLikeBtn),inputDateForm.addEventListener("input",onInputDate),textareaInput.addEventListener("input",onInputTextarea);var formData={};function onFormSubmit(t){t.preventDefault(),new FormData(t.currentTarget).forEach((function(t,e){formData[e]=t})),changeDateForComment(),addToHTML(formData),form.reset()}function addToHTML(t){return listComments.insertAdjacentHTML("beforeend",markupComment(t))}function markupComment(t){var e=t.name,n=t.comment,a=t.date;return'<li class="section-cases__item">\n  <p class="section-cases__name">'.concat(e,'</p>\n \n  <div class="section-cases__text-content"><p class="section-cases__comment">').concat(n,'</p></div>\n  <p class="section-cases__date">').concat(a,'</p>\n  <button type="button" class=\'section-cases__btn-close btn\' aria-label="close">\n  <svg class="icon-bin" width="20" height="20"><use xlink:href="#icon-bin"><symbol id="icon-bin" viewBox="0 0 32 32">\n  <path d="M6 32h20l2-22h-24zM20 4v-4h-8v4h-10v6l2-2h24l2 2v-6h-10zM18 4h-4v-2h4v2z"></path>\n  </symbol></use></svg></button>\n<button type="button" class=\'section-cases__btn-like btn\' aria-label="like">\n<span class="count">0</span>\n<svg class="icon-heart" width="20" height="20"><use xlink:href="#icon-heart">\n<symbol id="icon-heart" viewBox="0 0 32 32">\n<path d="M23.6 2c-3.363 0-6.258 2.736-7.599 5.594-1.342-2.858-4.237-5.594-7.601-5.594-4.637 0-8.4 3.764-8.4 8.401 0 9.433 9.516 11.906 16.001 21.232 6.13-9.268 15.999-12.1 15.999-21.232 0-4.637-3.763-8.401-8.4-8.401z"></path>\n</symbol></use></svg></button>\n</li>')}function onCloseBtn(t){var e=t.target.closest("button");e?"section-cases__btn-close btn"===e.className&&(t.target.closest("li").style.display="none"):console.log(t.target)}function onLikeBtn(t){var e=t.target.closest("button");if(e){if("section-cases__btn-like btn"===e.className){var n=e.querySelector(".count");n.classList.toggle("add");var a=Number(n.textContent);n.classList.contains("add")?a+=1:a-=1,n.innerHTML=a}}else console.log(t.target)}function onInputDate(t){if(year=Number(t.target.value.split("-")[0]),month=Number(t.target.value.split("-")[1]),day=Number(t.target.value.split("-")[2]),new Date(year,month-1,day).getTime()>Date.now())return t.target.value="",void alert("Выберете текущую дату, либо ранее!!")}function changeDateForComment(){var t=Number(formData.date.split("-")[0]),e=Number(formData.date.split("-")[1]),n=Number(formData.date.split("-")[2]),a=new Date,o=a.getHours(),c=a.getMinutes(),s=new Date(t,e-1,n).getTime(),r=-864e5,i=36e5*-o-6e4*c-1e3*a.getSeconds()-a.getMilliseconds()+r,l=s-a.getTime();o<10&&(o="0".concat(o)),c<10&&(c="0".concat(c)),e<10&&(e="0".concat(e)),n<10&&(n="0".concat(n)),Number(l)>=r&&Number(l)<0||""===formData.date?formData.date="сегодня, ".concat(o,":").concat(c):Number(l)===i?formData.date="вчера, ".concat(o,":").concat(c):formData.date="".concat(n,".").concat(e,".").concat(t,", ").concat(o,":").concat(c)}function onInputTextarea(t){280===t.target.value.length&&alert("Вы ввели максимальное количество символов")}
//# sourceMappingURL=index.c38c96e0.js.map
