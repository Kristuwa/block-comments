var form=document.querySelector(".callback-form"),listComments=document.querySelector(".section-cases__list"),inputDateForm=document.querySelector("#start"),textareaInput=document.querySelector(".callback-form__textarea");form.addEventListener("submit",onFormSubmit),listComments.addEventListener("click",onCloseBtn),listComments.addEventListener("click",onLikeBtn),inputDateForm.addEventListener("input",onInputDate),textareaInput.addEventListener("input",onInputTextarea);var formData={};function onFormSubmit(t){t.preventDefault(),new FormData(t.currentTarget).forEach((function(t,e){formData[e]=t})),changeDateForComment(),addToHTML(formData),form.reset()}function addToHTML(t){return listComments.insertAdjacentHTML("beforeend",markupComment(t))}function markupComment(t){var e=t.name,a=t.comment,n=t.date;return'<li class="section-cases__item">\n  <p class="section-cases__name">'.concat(e,'</p>\n \n  <div class="section-cases__text-content"><p class="section-cases__comment">').concat(a,'</p></div>\n  <p class="section-cases__date">').concat(n,'</p>\n  <button type="button" class=\'section-cases__btn-close btn\' aria-label="close"></button>\n<button type="button" class=\'section-cases__btn-like btn\' aria-label="like"><span class="count">0</span></button>\n</li>')}function onCloseBtn(t){"BUTTON"===t.target.nodeName&&"section-cases__btn-close btn"===t.target.closest("button").className&&(t.target.closest("li").style.display="none")}function onLikeBtn(t){if("BUTTON"===t.target.nodeName&&"section-cases__btn-like btn"===t.target.closest("button").className){var e=t.target.querySelector(".count");e.classList.toggle("add");var a=Number(e.textContent);e.classList.contains("add")?a+=1:a-=1,e.innerHTML=a}}function onInputDate(t){if(year=Number(t.target.value.split("-")[0]),month=Number(t.target.value.split("-")[1]),day=Number(t.target.value.split("-")[2]),new Date(year,month-1,day).getTime()>Date.now())return t.target.value="",void alert("Выберете текущую дату, либо ранее!!")}function changeDateForComment(){var t=Number(formData.date.split("-")[0]),e=Number(formData.date.split("-")[1]),a=Number(formData.date.split("-")[2]),n=new Date,o=n.getHours(),c=n.getMinutes(),s=new Date(t,e-1,a).getTime(),r=-864e5,i=36e5*-o-6e4*c-1e3*n.getSeconds()-n.getMilliseconds()+r,m=s-n.getTime();o<10&&(o="0".concat(o)),c<10&&(c="0".concat(c)),e<10&&(e="0".concat(e)),a<10&&(a="0".concat(a)),Number(m)>=r&&Number(m)<0||""===formData.date?formData.date="сегодня, ".concat(o,":").concat(c):Number(m)===i?formData.date="вчера, ".concat(o,":").concat(c):formData.date="".concat(a,".").concat(e,".").concat(t,", ").concat(o,":").concat(c)}function onInputTextarea(t){280===t.target.value.length&&alert("Вы ввели максимальное количество символов")}
//# sourceMappingURL=index.d80a5e9a.js.map
